include("/lib/contrib.js"),include("/lib/JavaScriptUtil.js"),include("/lib/Parsers.js"),include("/lib/InputMask.js");var SessionTimeout,cUser="",cPassword="",nControlCount=0,aForms=[],nFormsIndex=-1,_UNITS_="",_ARRAY_ENCODING_="HARBOUR",TYPES={undefined:"undefined",number:"number",boolean:"boolean",string:"string","[object Function]":"function","[object RegExp]":"regexp","[object Array]":"array","[object Date]":"date","[object Error]":"error"},TOSTRING=Object.prototype.toString;function Form(e,t,n,o,i){"number"!=type(t)&&"number"!=type(n)&&(n=t="100%");var l=!1;"number"==type(o)&&"number"==type(i)&&(l=!0);var s="control"+nControlCount.toString();nControlCount++;aForms[++nFormsIndex]=s;var r=document.createElement("div");r.className="cover",r.id="cover_"+s,document.body.appendChild(r);var u=document.createElement("div");u.className="window",u.innerHTML="<h1 class='form_titulo' style='cursor: move;'>"+e+"</h1>",l?(u.style.position="absolute",u.style.marginTop=i+_UNITS_,u.style.marginLeft=o+_UNITS_,u.style.height=n+_UNITS_,u.style.width=t+_UNITS_):(u.style.width=t+_UNITS_,u.style.height=n+_UNITS_),u.id=s,document.body.appendChild(u);var d=document.createElement("img");d.style.position="absolute",d.className="image",d.style.top=4,d.style.left=4,d.style.height=16,d.style.width=16,d.src="/img/isotipo-blanco.jpg",document.getElementById(s).appendChild(d),this.fadeIn=function(){document.getElementById(s).style.display="none",$("#"+s).fadeIn(gFadeTime),$("#"+s).draggable({handle:".form_titulo",addClasses:!1,opacity:.35})},this.release=function(){var e="#"+s;document.getElementById("cover_"+aForms[nFormsIndex]).parentNode.removeChild(document.getElementById("cover_"+aForms[nFormsIndex])),$(e).fadeOut(gFadeTime),setTimeout(function(){document.getElementById(aForms[nFormsIndex]).parentNode.removeChild(document.getElementById(aForms[nFormsIndex])),nFormsIndex--},gFadeTime)},this.getChildren=function(){return document.getElementById(s).children},this.getId=function(){return s}}function Panel(e,t,n,o,i,l){var s="control"+nControlCount.toString();nControlCount++;var r=document.createElement("div");r.className="panel",r.style.position="absolute",r.style.top=t+_UNITS_,r.style.left=n+_UNITS_,r.style.width=o+_UNITS_,r.style.height=i+_UNITS_,r.id=s,r.innerHTML=l,r.style.border="solid 1px rgb(125,125,125)",r.style.overflow="none",document.getElementById(e.getId()).appendChild(r),this.getId=function(){return s}}function Button(e,t,n,o,i,l,s){var r="control"+nControlCount.toString();nControlCount++;var u=document.createElement("input");u.type="button",u.value=o,u.onclick=Function(i),u.style.position="absolute",u.style.top=t+_UNITS_,u.style.left=n+_UNITS_,u.id=r,"number"==type(l)?u.style.width=l+_UNITS_:0<n&&(u.style.width="120px"),"number"==type(s)?u.style.height=s+_UNITS_:0<t&&(u.style.height="30px"),document.getElementById(e.getId()).appendChild(u),this.setName=function(e){u.name=e},this.getName=function(){return u.name},this.setValue=function(e){u.value=e},this.getValue=function(){return u.value},this.getId=function(){return r},this.setColor=function(e,t){u.style.color=e,u.style.backgroundColor=t},this.setTooltip=function(e){document.getElementById(r).title=e},this.visible=function(e){document.getElementById(r).style="visible: "+e},this.setAttribute=function(e,t){u.setAttribute(e,t)},this.getAttribute=function(e){return u.getAttribute(e)},this.setTabIndex=function(e){u.tabIndex=e}}function ComboBox(e,t,n,o,i,l,s){var r="control"+nControlCount.toString();nControlCount++;var u=document.createElement("select");u.type="combobox",u.style.position="absolute",u.style.top=t+_UNITS_,u.style.left=n+_UNITS_,u.id=r,"string"==typeof s&&(u.onchange=Function(s));for(var d=0;d<o.length;d++)u.options[d]=new Option(o[d],i[d]);"number"==type(l)&&(u.selectedIndex=l),this.getValue=function(e){return u.options[e].value},this.setValue=function(e,t){options[e].value=t},this.getSelectedValue=function(){return u.selectedIndex<0?"":u.options[u.selectedIndex].value},this.getText=function(e){return u.options[e].text},this.setSelectedIndex=function(e){u.selectedIndex=e},this.setIndexByValue=function(e){for(var t=0;t<u.options.length;t++)if(u.options[t].value==e)return u.selectedIndex=t;return-1},this.getSelectedIndex=function(){return u.selectedIndex},this.count=function(){return u.options.length},this.getId=function(){return r},this.addOption=function(e,t){var n=document.createElement("option");n.text=e,n.value=t,u.add(n)},this.addItem=function(e){var t=document.createElement("option");t.text=e,u.add(t)},this.setTooltip=function(e){document.getElementById(r).title=e},this.disable=function(){document.getElementById(this.getId()).disabled=!0},this.enable=function(){document.getElementById(this.getId()).disabled=!1},this.setFocus=function(){u.focus()},document.getElementById(e.getId()).appendChild(u)}function Label(e,t,n,o,i,l,s,r){var u="control"+nControlCount.toString();nControlCount++;var d=document.createElement("span");d.className="label",d.style.top=t+_UNITS_,d.style.left=n+_UNITS_,d.innerHTML=o,d.id=u,i&&(d.style.color=i),l&&(d.style.backgroundColor=l),r&&(d.style.width=r),s&&(d.name=s),document.getElementById(e.getId()).appendChild(d),this.getId=function(){return u},this.getValue=function(){return document.getElementById(u).innerHTML},this.setValue=function(e){document.getElementById(u).innerHTML=e},this.setColor=function(e,t){var n=document.getElementById(u);n.style.color=e,n.style.backgroundColor=t},this.setTooltip=function(e){document.getElementById(u).title=e}}function TextBox(e,t,n,o,i,l,s){var r,u,d,c="string",a="control"+nControlCount.toString();nControlCount++;var m=document.createElement("input");m.type=i?"password":"text","string"==typeof l&&(m.onchange=Function(l)),m.className="textbox",m.style.position="absolute",m.style.top=t+_UNITS_,m.style.left=n+_UNITS_,m.value=o,m.id=a,m.name="string"==typeof s?s:a,document.getElementById(e.getId()).appendChild(m),this.change=function(){m.onchange()},this.setWidth=function(e){m.style.width=e},this.setMaxLength=function(e){m.maxLength=e},this.getName=function(){return document.getElementById(a).name},this.setName=function(e){document.getElementById(a).name=e},this.getAsNumber=function(){if("number"==c)return u.getAsNumber()},this.setAsNumber=function(e){"number"==c&&u.setAsNumber(e)},this.getValue=function(){return document.getElementById(a).value},this.getElement=function(){return document.getElementById(a)},this.setValue=function(e){document.getElementById(a).value=e},this.setAlign=function(e){m.style.direction=e&&"right"==e?"rtl":""},this.getId=function(){return a},this.setFocus=function(){m.focus()},this.disable=function(){document.getElementById(this.getId()).disabled=!0},this.enable=function(){document.getElementById(this.getId()).disabled=!1},this.setNumericMask=function(e,t,n,o,i,l,s){c="number",m.style.textAlign="right",r=new NumberParser(t,n,o,!0),0==o.length?r.useGrouping=!1:r.useGrouping=!0,0==s.length?r.useCurrency=!1:(r.useCurrency=!0,r.currencySymbol=s,r.negativeParenthesis=!0,r.currencyInside=!0),(u=new NumberMask(r,a,e)).allowNegative=i,u.leftToRight=l},this.setDateMask=function(e){d=new DateParser(e),new DateMask(d,a).validationMessage="Fecha invÃ¡lida: ${value}. Formato esperado: ${mask}"},this.setStringMask=function(e){c="string";new InputMask(e,a)},this.isValid=function(){return getObject(this.getId()).mask.isComplete()},this.setColor=function(e,t){var n=document.getElementById(a);n.style.color=e,n.style.backgroundColor=t},this.setTooltip=function(e){document.getElementById(a).title=e}}function CheckBox(e,t,n,o,i){var l="control"+nControlCount.toString();nControlCount++;var s=document.createElement("input");s.type="checkbox",s.style.position="absolute",s.style.top=t+_UNITS_,s.style.left=n+_UNITS_,s.id=l,"boolean"==type(o)?s.checked=o:"string"==type(o)&&(s.checked="Yes"==o||".T."==o),"string"==typeof i&&(s.onclick=Function(i)),document.getElementById(e.getId()).appendChild(s),this.check=function(){document.getElementById(l).checked=!0},this.unCheck=function(){document.getElementById(l).checked=!1},this.isChecked=function(){return 1==document.getElementById(l).checked},this.getValue=function(){return 1==document.getElementById(l).checked?"S":"N"},this.setValue=function(e){document.getElementById(l).checked="S"==e},this.getId=function(){return l},this.setTooltip=function(e){document.getElementById(l).title=e}}function Image(e,t,n,o,i,l,s){var r="control"+nControlCount.toString();nControlCount++;var u=document.createElement("img");u.style.position="absolute","string"==typeof s?(u.className="imageclick",u.onclick=Function(s)):u.className="image",u.id=r,u.style.top=t+_UNITS_,u.style.left=n+_UNITS_,u.style.height=i,u.style.width=l,u.src=o,document.getElementById(e.getId()).appendChild(u),this.getId=function(){return r},this.setVisible=function(e){document.getElementById(r).style.display=e?"block":"none"},this.setTooltip=function(e){document.getElementById(r).title=e}}function EditBox(e,t,n,o,i,l){var s="control"+nControlCount.toString();nControlCount++;var r=document.createElement("textarea");r.id=s,r.style.position="absolute",r.style.top=t+_UNITS_,r.style.left=n+_UNITS_,r.cols=o,r.rows=i,r.value=l,document.getElementById(e.getId()).appendChild(r),this.getValue=function(){return document.getElementById(s).value},this.setValue=function(e){document.getElementById(s).value=e},this.getId=function(){return s}}function JsToHrb(e){var t;t="{";for(var n=0;n<e.length;n++)"boolean"==type(e[n])?1==e[n]?t+='"Yes"':t+='"No"':"array"==type(e[n])?t+=JsToHrb(e[n]):t=t+'"'+e[n]+'"',n<e.length-1&&(t+=",");return t+="}"}function dateToYMD(e){var t=e.getDate(),n=e.getMonth()+1;return e.getFullYear()+"-"+(n<=9?"0"+n:n)+"-"+(t<=9?"0"+t:t)}function type(e){return TYPES[typeof e]||TYPES[TOSTRING.call(e)]||(e?"object":"null")}var gLastRowClicked=0;function Grid(e,t,n,o,i,l,s,r,u){var d=!(gLastRowClicked=0);"boolean"==typeof r&&(d=r);var c=null;"string"==typeof u&&(c=Function(u));var a="control"+nControlCount.toString();nControlCount++;var m=document.createElement("div");panel=a+"_panel",m.style.position="absolute",m.style.top=t+_UNITS_,m.style.left=n+_UNITS_,m.style.width=o+_UNITS_,m.style.height=i+_UNITS_,m.id=panel,m.style.border="solid 1px rgb(200,200,200)",m.style.overflow="scroll",document.getElementById(e.getId()).appendChild(m);var g=document.createElement("table"),h=document.createElement("tbody");g.className="grid";t=document.createElement("tr");var y=document.createElement("th"),p=document.createTextNode("");y.appendChild(p),t.appendChild(y);for(var f=0;f<l.length;f++){y=document.createElement("th"),p=document.createTextNode(l[f]);y.appendChild(p),t.appendChild(y)}h.appendChild(t),g.setAttribute("border","0"),g.setAttribute("width",s+_UNITS_),g.setAttribute("id",a),g.appendChild(h),m.appendChild(g),this.addRow=function(e,t){var n=document.createElement("tr"),o=document.createElement("td"),i=document.createElement("input");i.type="checkbox",t?i.disabled=!0:i.onclick=function(){changeState(this,a,d,c)},o.appendChild(i),n.appendChild(o);for(var l=0;l<e.length;l++){(o=document.createElement("td")).innerHTML=e[l],n.appendChild(o)}h.appendChild(n)},this.getRowCount=function(){return document.getElementById(a).rows.length},this.getColCount=function(){return document.getElementById(a).rows[0].cells.length},this.getCell=function(e,t){return document.getElementById(a).rows[e].cells[t].innerHTML},this.setCell=function(e,t,n){document.getElementById(a).rows[e].cells[t].innerHTML=n},this.setCellColor=function(e,t,n,o){var i=document.getElementById(a).rows[e].cells[t];i.style.color=n,i.style.backgroundColor=o},this.setCellAlign=function(e,t,n,o){"string"==type(n)&&(document.getElementById(a).rows[e].cells[t].style.textAlign=n),"string"==type(o)&&(document.getElementById(a).rows[e].cells[t].style.verticalAlign=o)},this.setCellTooltip=function(e,t,n){document.getElementById(a).rows[e].cells[t].title=n},this.select=function(e){document.getElementById(a).rows[e].cells[0].getElementsByTagName("input")[0].checked=!0,changeState(document.getElementById(a).rows[e].cells[0].getElementsByTagName("input")[0],a,d,c)},this.unSelect=function(e){document.getElementById(a).rows[e].cells[0].getElementsByTagName("input")[0].checked=!1,changeState(document.getElementById(a).rows[e].cells[0].getElementsByTagName("input")[0],a,d,c)},this.deleteRow=function(e){document.getElementById(a).deleteRow(e)},this.isSelected=function(e){return document.getElementById(a).rows[e].cells[0].getElementsByTagName("input")[0].checked},this.getId=function(){return a},this.getSelectedRows=function(){var e,t,n=new Array;for(t=0,e=1;e<document.getElementById(a).rows.length;e++)1==document.getElementById(a).rows[e].cells[0].getElementsByTagName("input")[0].checked&&(n[t]=e,t++);return n},this.getFirstSelectedRow=function(){for(var e=0,t=1;t<document.getElementById(a).rows.length;t++)if(1==document.getElementById(a).rows[t].cells[0].getElementsByTagName("input")[0].checked){e=t;break}return e},this.getSelectedRowCount=function(){var e,t;for(t=0,e=1;e<document.getElementById(a).rows.length;e++)1==document.getElementById(a).rows[e].cells[0].getElementsByTagName("input")[0].checked&&t++;return t}}function changeState(e,t,n,o){gLastRowClicked=0;for(var i=document.getElementById(t),l=1;l<i.rows.length;l++)if(i.rows[l].cells[0].getElementsByTagName("input")[0]==e){gLastRowClicked=l;break}if(e.checked){if(n)for(l=1;l<i.rows.length;l++){var s=i.rows[l].cells[0].getElementsByTagName("input")[0];s.checked&&e!=s&&(s.checked=!1,changeState(s,t,n))}e.parentNode.parentNode.className="selected"}else e.parentNode.parentNode.className="unSelected";o&&o()}function RadioGroup(e,t,n,o,i,l,s){var r,u=new Array,d="control"+nControlCount.toString();for(nControlCount++,r=0;r<o.length;r++){var c="control"+nControlCount.toString();nControlCount++;var a=document.createElement("input");u[r]=c,a.type="radio",a.name=d,a.id=c,a.style.position="absolute",a.style.top=t+_UNITS_,a.style.left=n+_UNITS_,document.getElementById(e.getId()).appendChild(a),(a=document.createElement("div")).id=c+"_label",a.className="label",a.style.position="absolute",a.style.top=t+_UNITS_,a.style.left=n+s+_UNITS_,a.innerHTML=o[r],document.getElementById(e.getId()).appendChild(a),l<0?n-=l:t+=l}document.getElementById(u[i]).checked=!0,this.getSelectedIndex=function(){for(r=0;r<u.length;r++)if(1==document.getElementById(u[r]).checked)return r},this.setSelectedIndex=function(e){document.getElementById(u[e]).checked=!0},this.getId=function(e){return u[e]}}function Spinner(e,t,n,o){var i="control"+nControlCount.toString();nControlCount++;var l=document.createElement("input");l.type="number",l.className="spinner",l.style.position="absolute",l.style.top=t+_UNITS_,l.style.left=n+_UNITS_,l.value=o,l.id=i,document.getElementById(e.getId()).appendChild(l),this.getValue=function(){return document.getElementById(i).value},this.setValue=function(e){document.getElementById(i).value=e},this.getId=function(){return i},this.setMin=function(e){l.min=e},this.setMax=function(e){l.max=e},this.setStep=function(e){l.step=e}}function Slider(e,t,n,o){var i="control"+nControlCount.toString();nControlCount++;var l=document.createElement("input");l.type="range",l.className="spinner",l.style.position="absolute",l.style.top=t+_UNITS_,l.style.left=n+_UNITS_,l.value=o,l.id=i,document.getElementById(e.getId()).appendChild(l),this.getValue=function(){return document.getElementById(i).value},this.setValue=function(e){document.getElementById(i).value=e},this.getId=function(){return i},this.setMin=function(e){l.min=e},this.setMax=function(e){l.max=e},this.setStep=function(e){l.step=e}}function DatePicker(e,t,n,o,i){var l="control"+nControlCount.toString();nControlCount++;var s=document.createElement("input");s.type="date",s.className="spinner",s.style.position="absolute",s.style.top=t+_UNITS_,s.style.left=n+_UNITS_,s.value=o,s.id=l,"string"==typeof i&&(s.onchange=Function(i)),document.getElementById(e.getId()).appendChild(s),this.getValue=function(e){var t=document.getElementById(l).value;return""==t&&e?"NULL":t},this.setValue=function(e){document.getElementById(l).value=e},this.setFocus=function(){document.getElementById(l).focus()},this.getId=function(){return l},this.disable=function(){document.getElementById(this.getId()).disabled=!0},this.enable=function(){document.getElementById(this.getId()).disabled=!1}}function ListBox(e,t,n,o,l,s,r){var u="control"+nControlCount.toString();nControlCount++;var d=document.createElement("select");for(d.style.position="absolute",d.style.top=t+_UNITS_,d.style.left=n+_UNITS_,d.id=u,d.size=s,i=0;i<o.length;i++)d.options[i]=new Option(o[i],l[i]);"number"==type(r)&&(d.selectedIndex=r),this.getValue=function(e){return d.options[e].value},this.setValue=function(e,t){options[e].value=t},this.setSelectedIndex=function(e){d.selectedIndex=e},this.getSelectedIndex=function(){return d.selectedIndex},this.getId=function(){return u},document.getElementById(e.getId()).appendChild(d)}function trim(e){return rtrim(ltrim(e))}function ltrim(e){for(var t=0;t<e.length&&" "==e[t];)t++;return e.substring(t,e.length)}function rtrim(e){for(var t=e.length-1;0<t&&" "==e[t];)t-=1;return e.substring(0,t+1)}function httpRequest(){arguments[0].split(".").pop();var e="sessionId="+cSessionId;for(s=1;s<arguments.length;s++)e+="&","array"==type(arguments[s])?"HARBOUR"==_ARRAY_ENCODING_?e+="par_"+s.toString()+"="+encodeURIComponent(JsToHrb(arguments[s])):"JSON"==_ARRAY_ENCODING_&&(e+="par_"+s.toString()+"="+encodeURIComponent(JSON.stringify(arguments[s]))):e+="par_"+s.toString()+"="+encodeURIComponent(arguments[s]);var t=new XMLHttpRequest;try{t.open("POST",arguments[0],!1),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.send(e)}catch(e){return void alert("httpRequest failed, error: "+e.message)}if("ERROR -"==t.responseText.slice(0,7))return alert(t.responseText),"";var n=t.responseText.split("\n"),o=n[0].split("\t"),i=n.length;if(0<i){for(var l=new Array(i),s=0;s<i;s++){var r=(o=n[s].split("\t")).length;l[s]=new Array(r);for(var u=0;u<r;u++)l[s][u]=o[u]}return l}return t.responseText}function setUnits(e){_UNITS_=e}function setArrayEncoding(e){_ARRAY_ENCODING_=e}function detectIE(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(0<t)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(0<e.indexOf("Trident/")){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var o=e.indexOf("Edge/");return 0<o?parseInt(e.substring(o+5,e.indexOf(".",o)),10):0}